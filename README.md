# Aepp SDK Elixir

Elixir SDK for the revolutionary [æternity](https://aeternity.com/) blockchain, targeting the
[æternity node](https://github.com/aeternity/aeternity) implementation.
This SDK must be generated by using [openapi-generator](https://github.com/aeternity/openapi-generator/tree/elixir-adjustment) and by using `aeternity node's` ver. [2.2.0 swagger specification file](https://github.com/aeternity/aeternity/blob/v2.2.0/config/swagger.yaml).

## Prerequisites
Ensure that you have installed [Elixir](https://elixir-lang.org/install.html).

## Setup the project

```
git clone https://github.com/aeternity/aepp-sdk-elixir
mix build_api v1.0.0-elixir v2.2.0
```
Where: 
 - `v1.0.0-elixir` - OpenAPI client [generator](https://github.com/aeternity/openapi-generator/tree/elixir-adjustment#openapi-generator) [release](https://github.com/aeternity/openapi-generator/releases) version.
 - `v2.2.0` - Aeternity node API [specification file](https://github.com/aeternity/aeternity/blob/v2.2.0/config/swagger.yaml).

## Usage example
**1.** To get an account record by pubkey, you should call:
``` elixir
AeternityNode.Connection.new() |> AeternityNode.Api.Account.get_account_by_pubkey("ak_1GPPzM3VDKCP5RNEbp2uBNtgGTHRNQmrNkeAKGp7wfPWKYQvM")
```
Where:
- `AeternityNode.Connection.new()` - creates a connection which holds the endpoint configuration, if called without parameter `path`, defaults to `"http://localhost:3013/v2"`.
- `"ak_1GPPzM3VDKCP5RNEbp2uBNtgGTHRNQmrNkeAKGp7wfPWKYQvM"` - account pubkey.

**NOTE:** The given pubkey should exist in `aeternity node's chainstate` in order to be found, otherwise will return `%{"reason" => "Account not found"}`.

The return of the function will look like this: 
``` elixir
{:ok,
 %AeternityNode.Model.Account{
   balance: 6098700000000000000000, # Can be different
   id: "ak_1GPPzM3VDKCP5RNEbp2uBNtgGTHRNQmrNkeAKGp7wfPWKYQvM",
   nonce: 0 # Can be different
 }}
```